(()=>{"use strict";const e=window.wp.blocks,r=window.wp.blockEditor,a=window.wp.components,c=window.wp.element,t=window.wp.data,o=window.ReactJSXRuntime;(0,e.registerBlockType)("celorgscratch/gridcard",{title:"Grid Card",category:"layout",parent:["celorgscratch/cardgrid"],attributes:{url:{type:"string",default:""},parentImageCards:{type:"string",default:""}},supports:{color:{text:!1,link:!0,background:!0}},edit:function(e){const{attributes:l,setAttributes:s,clientId:n}=e,[d,i]=(0,c.useState)(!1),p=(0,t.useSelect)((e=>{const r=e("core/block-editor").getBlockParents(n)[0];return r?e("core/block-editor").getBlock(r)?.attributes:{}}),[n]),u="image-quick-links"===p?.imageCards,g="grid-width-card"===p?.imageCards,m="carousel-card"===p?.imageCards,h=u?"image-quick-links":g?"grid-width-card":m?"carousel-card":"";return l.parentImageCards!==h&&s({parentImageCards:h}),(0,o.jsxs)("div",{className:"grid_card",children:[!g&&!m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.BlockControls,{children:(0,o.jsx)(a.ToolbarGroup,{children:(0,o.jsx)(a.ToolbarButton,{icon:"admin-links",label:"Add URL",onClick:()=>i(!d)})})}),d&&(0,o.jsx)("div",{className:"url-input-popup",children:(0,o.jsx)(r.URLInput,{value:l.url,onChange:e=>s({url:e}),autoFocus:!1})}),(0,o.jsx)(r.InnerBlocks,{allowedBlocks:["core/image","core/paragraph","core/button"],template:[["core/image",{}],["core/group",{className:"card-content"},[["core/paragraph",{placeholder:"Card Headline",className:"h4"}],...u?[]:[["core/paragraph",{placeholder:"Card Byline",className:"card_byline"}]],...g?[["core/button",{text:"Read More",url:l.url}]]:[]]]],templateLock:"all"})]}),g&&(0,o.jsx)(r.InnerBlocks,{allowedBlocks:["core/image","core/paragraph","core/button"],template:[["core/image",{}],["core/group",{className:"card-content"},[["core/paragraph",{placeholder:"Card Headline",className:"h4"}],...u?[]:[["core/paragraph",{placeholder:"Card Byline",className:"card_byline"}]],...g?[["core/button",{text:"Read More",url:l.url}]]:[]]]],templateLock:"all"}),m&&(0,o.jsx)(r.InnerBlocks,{allowedBlocks:["core/image","core/paragraph","core/button"],template:[["core/image",{}],["core/group",{className:"card-content"},[["core/paragraph",{placeholder:"Card Headline",className:"h4"}],...u?[]:[["core/paragraph",{placeholder:"Card Byline",className:"card_byline"}]],...m?[["core/button",{text:"Read More",url:l.url}]]:[]]]],templateLock:"all"})]})},save:function({attributes:e}){const a="grid-width-card"===e.parentImageCards,c="carousel-card"===e.parentImageCards;return a||c?(0,o.jsx)("div",{className:"grid_card",children:(0,o.jsx)(r.InnerBlocks.Content,{})}):(0,o.jsx)("a",{href:e.url,className:"grid_card",children:(0,o.jsx)(r.InnerBlocks.Content,{})})}})})();