#primary-menu{
     li{
          list-style: none;
          
          a{
               display: block;
               position: relative;
               color: $black;
               text-transform: uppercase;
               padding: $btntop $spacereg $spacesmall $spacereg;
               transition: $primary-transition;

               &:hover, &:focus{
                    color: $white;
                    font-variation-settings: $body_bold;
                    background-color: $primary;
                    transition: $primary-transition;
               }
          }

          .sub-menu{
               height: auto;
               max-height: 0;
               overflow: hidden;
               transition: $primary-transition;
          }

          &:focus-within{
               .sub-menu{
                    max-height: 1000vh;
                    transition: $primary-transition;
               }
          }

          &.current-menu-parent > a, .current-menu-item a{
               color: $white;
               font-variation-settings: $body_reg;
               background-color: $secondary;
               transition: $primary-transition;

               &:hover, &:focus{
                    color: $white;
                    font-variation-settings: $body_bold;
                    background-color: $primary;
                    transition: $primary-transition;
               }
          }
     }

     & .menu-item-has-children{
          & > a{
               display: grid;
               grid-template-columns: calc(100% - 30px) 25px;
               align-items: center;
               gap: $spacesmall;
               transition: $primary-transition;

               &::after{
                    content: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi41OSIgaGVpZ2h0PSIxMi41OSIgdmlld0JveD0iMCAwIDEyLjU5IDEyLjU5Ij4KICA8cGF0aCBpZD0iYXJyb3dfbGVmdC1fMzUwXyIgZGF0YS1uYW1lPSJhcnJvd19sZWZ0W1szNTBdIiBkPSJNOTAuMjk1LDY0OTEuNTlsLS45LS44NzcsNC43ODktNC43ODlIODR2LTEuMjU5SDk0LjE4bC00Ljc3NS00Ljc3NC44OS0uODkxLDYuMjk1LDYuMjk1LTYuMjk1LDYuMjk1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODQgLTY0NzkpIiBmaWxsPSIjMjAyMDIwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+');
                    display: block;
                    width: auto;
                    aspect-ratio: 16/9;
                    transition: $primary-transition;
               }

               &:hover, &:focus{
                    gap: $spacereg;
                    transition: $primary-transition;

                    &::after{
                         content: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi41OSIgaGVpZ2h0PSIxMi41OSIgdmlld0JveD0iMCAwIDEyLjU5IDEyLjU5Ij4KICA8cGF0aCBpZD0iYXJyb3dfbGVmdC1fMzUwXyIgZGF0YS1uYW1lPSJhcnJvd19sZWZ0W1szNTBdIiBkPSJNOTAuMjk1LDY0OTEuNTlsLS45LS44NzcsNC43ODktNC43ODlIODR2LTEuMjU5SDk0LjE4bC00Ljc3NS00Ljc3NC44OS0uODkxLDYuMjk1LDYuMjk1LTYuMjk1LDYuMjk1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODQgLTY0NzkpIiBmaWxsPSIjZmZmZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+');
                         transition: $primary-transition;
                    }
               }
          }

          &.current-menu-parent > a{
               &:hover, &:focus{
                    background-color: $primary;
               }

               &::after{
                    content: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi41OSIgaGVpZ2h0PSIxMi41OSIgdmlld0JveD0iMCAwIDEyLjU5IDEyLjU5Ij4KICA8cGF0aCBpZD0iYXJyb3dfbGVmdC1fMzUwXyIgZGF0YS1uYW1lPSJhcnJvd19sZWZ0W1szNTBdIiBkPSJNOTAuMjk1LDY0OTEuNTlsLS45LS44NzcsNC43ODktNC43ODlIODR2LTEuMjU5SDk0LjE4bC00Ljc3NS00Ljc3NC44OS0uODkxLDYuMjk1LDYuMjk1LTYuMjk1LDYuMjk1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODQgLTY0NzkpIiBmaWxsPSIjZmZmZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+');
                    transition: $primary-transition;
               }
          }
     }
}

.menu-toggle {
     display: grid;
     grid-template-columns: 30px;
     grid-template-rows: 20px 0;
     align-content: center;
     justify-content: center;
     position: absolute;
     top: 0;
     right: 0;
     width: 48px;
     aspect-ratio: 1/1;
     right: 0;
     background-color: $white;
     border: none;
     outline: none;

     &:hover,
     &:focus,
     &:active {
          border: none;
          outline: none;
     }

     .btn_txt {
          height: 0;
          overflow: hidden;
          opacity: 0;
     }

     .burger_wrap {
          display: block;
          position: relative;
          width: 30px;
          height: 30px;
          max-height: 20px;
          transition: all 0.25s ease-in-out;

          >* {
               display: block;
          }

          .center_line {
               position: absolute;
               top: calc(50% - 1.5px);
               left: 0;
               width: 29.7px;
               height: 3px;
               background-color: $primary;
               border-radius: 100vw;
               opacity: 1;
               transform: opacity 0.5s ease-out 0.5s;
          }

          &::before,
          &::after {
               content: "";
               position: absolute;
               left: 0;
               width: 29.7px;
               height: 3px;
               background-color: $primary;
               border-radius: 100vw;
          }

          &::before {
               top: 0;
               transform: rotate(0deg);
               transition: top 0.5s ease-out 0.5s, transform 0.5s ease-out;
          }

          &::after {
               bottom: 0;
               transform: rotate(0deg);
               transition: bottom 0.5s ease-out 0.5s, transform 0.5s ease-out;
          }
     }

     &.active {
          max-height: 30px;
          transition: all 0.25s ease-in-out;

          .btn_txt {
               opacity: 0;
          }
     }
}

.active{
     .burger_wrap {
          .center_line {
               opacity: 0;
               transform: opacity 0.5s ease-out 0.5s;
          }

          &::before {
               top: calc(50% - 1.5px);
               transform: rotate(45deg);
               transition: top 0.5s ease-out, transform 0.5s ease-out 0.5s;
          }

          &::after {
               bottom: calc(50% - 2.5px);
               transform: rotate(-45deg);
               transition: bottom 0.5s ease-out, transform 0.5s ease-out 0.5s;
          }
     }
}

@media (min-width: 1024px) {
     #primary-menu{
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(70px, auto));
          grid-template-rows: auto;
          align-items: center;
          justify-content: center;
          gap: $spacesmall;

          li{
               position: relative;
               
               a{
                    display: inline-block;
                    text-align: center;
                    justify-content: center;
                    position: relative;
                    font-size: $size-button;
                    padding: $btntop $spacesmall $spacesmall $spacesmall;

                    &:hover, &:focus{
                         color: $white;
                         font-variation-settings: $body_bold;
                         background-color: $primary;
                         font-variation-settings: $body_reg;
                         transition: $primary-transition;
                    }
               }

               &.current-menu-parent {
                    a{
                         &:hover, &:focus{
                              font-variation-settings: $body_reg;
                         }
                    }
               }


               &.menu-item-has-children{
                    a{
                         display: inline-block;
                         
                         &::after{
                              display: none;
                         }
                    }

                    .sub-menu{
                         position: absolute;
                         top: 100%;
                         left: 0;
                         width: 200px;
                         background-color: $white;
                         border: 2px solid $white;
                         z-index: 100;

                         a{
                              display: block;
                              width: 100%;
                              text-align: left;
                         }
                    }

                    &:has(a:hover, a:focus, a:focus-within){
                         .sub-menu{
                              max-height: 1000px;
                              border: 2px solid $grey;
                              z-index: 1100;
                         }
                    }
               }
          }


     }

     .menu-toggle{
          display: none;
     }
}